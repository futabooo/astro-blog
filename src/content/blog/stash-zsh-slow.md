---
title: "zshの起動が遅いので調べたらgoogle-cloud-sdkのせいだった"
description: "zshの起動が遅いので調べたらgoogle-cloud-sdkのせいだった"
tags: ["shell"]
pubDate: "2023/03/10"
---

<pre class="code" data-lang="" data-unlink="">
(*'-'*) ❯  exec $SHELL -l
num  calls                time                       self            name
-----------------------------------------------------------------------------------
num  calls                time                       self            name
-----------------------------------------------------------------------------------
 1)    1         595.07   595.07   99.89%    411.22   411.22   69.03%  compinit
 2)    1          83.82    83.82   14.07%     83.82    83.82   14.07%  compdump
 3)  818          80.06     0.10   13.44%     80.06     0.10   13.44%  compdef
 4)    2          20.07    10.04    3.37%     20.07    10.04    3.37%  compaudit
 5)    2           0.30     0.15    0.05%      0.30     0.15    0.05%  add-zsh-hook
 6)    3           0.20     0.07    0.03%      0.09     0.03    0.02%  complete
 7)    4           0.16     0.04    0.03%      0.09     0.02    0.01%  zsh-defer
 8)    1           0.07     0.07    0.01%      0.07     0.07    0.01%  _zsh-defer-schedule
 9)    1           0.01     0.01    0.00%      0.01     0.01    0.00%  bashcompinit
10)    1           0.00     0.00    0.00%      0.00     0.00    0.00%  __starship_get_time

-----------------------------------------------------------------------------------

 1)    1         595.07   595.07   99.89%    411.22   411.22   69.03%  compinit
       1/2        20.07    20.07    3.37%      0.15     0.15             compaudit [4]
     815/818      79.96     0.10   13.42%     79.96     0.10             compdef [3]
       1/1        83.82    83.82   14.07%     83.82    83.82             compdump [2]

-----------------------------------------------------------------------------------

       1/1        83.82    83.82   14.07%     83.82    83.82             compinit [1]
 2)    1          83.82    83.82   14.07%     83.82    83.82   14.07%  compdump

-----------------------------------------------------------------------------------

     815/818      79.96     0.10   13.42%     79.96     0.10             compinit [1]
       3/818       0.10     0.03    0.02%      0.10     0.03             complete [6]
 3)  818          80.06     0.10   13.44%     80.06     0.10   13.44%  compdef

-----------------------------------------------------------------------------------

       1/2        20.07    20.07    3.37%      0.15     0.15             compinit [1]
       1/2        19.93    19.93    3.34%     19.93    19.93             compaudit [4]
 4)    2          20.07    10.04    3.37%     20.07    10.04    3.37%  compaudit
       1/2        19.93    19.93    3.34%     19.93    19.93             compaudit [4]

-----------------------------------------------------------------------------------

 5)    2           0.30     0.15    0.05%      0.30     0.15    0.05%  add-zsh-hook

-----------------------------------------------------------------------------------

 6)    3           0.20     0.07    0.03%      0.09     0.03    0.02%  complete
       3/818       0.10     0.03    0.02%      0.10     0.03             compdef [3]

-----------------------------------------------------------------------------------

 7)    4           0.16     0.04    0.03%      0.09     0.02    0.01%  zsh-defer
       1/1         0.07     0.07    0.01%      0.07     0.07             _zsh-defer-schedule [8]

-----------------------------------------------------------------------------------

       1/1         0.07     0.07    0.01%      0.07     0.07             zsh-defer [7]
 8)    1           0.07     0.07    0.01%      0.07     0.07    0.01%  _zsh-defer-schedule

-----------------------------------------------------------------------------------

 9)    1           0.01     0.01    0.00%      0.01     0.01    0.00%  bashcompinit

-----------------------------------------------------------------------------------

10)    1           0.00     0.00    0.00%      0.00     0.00    0.00%  __starship_get_time
</pre>
